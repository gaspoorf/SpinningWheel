{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaspa\\\\OneDrive\\\\Documents\\\\MMI 2\\\\S4\\\\React\\\\SpinningWheel\\\\spin-wheel\\\\src\\\\components\\\\WheelConstructor.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WheelComponent = ({\n  segments,\n  segColors,\n  winningSegment,\n  onFinished,\n  primaryColor = \"black\",\n  contrastColor = \"white\",\n  buttonText = \"Spin\",\n  isOnlyOnce = true,\n  size = window.innerWidth,\n  upDuration = 100,\n  downDuration = 1000,\n  fontFamily = \"proxima-nova\"\n}) => {\n  _s();\n  const randomString = () => {\n    const chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\".split(\"\");\n    const length = 8;\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n      str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n  };\n  const canvasId = useRef(`canvas-${randomString()}`);\n  const wheelId = useRef(`wheel-${randomString()}`);\n  const dimension = (size + 20) * 2;\n  let currentSegment = \"\";\n  let isStarted = false;\n  const [isFinished, setFinished] = useState(false);\n  let timerHandle = 0;\n  const timerDelay = segments.length;\n  let angleCurrent = 0;\n  let angleDelta = 0;\n  let canvasContext = null;\n  let maxSpeed = Math.PI / segments.length;\n  const upTime = segments.length * upDuration;\n  const downTime = segments.length * downDuration;\n  let spinStart = 0;\n  let frames = 0;\n  const centerX = size + 20;\n  const centerY = size + 20;\n  useEffect(() => {\n    wheelInit();\n    setTimeout(() => {\n      window.scrollTo(0, 1);\n    }, 0);\n  }, []);\n  const wheelInit = () => {\n    initCanvas();\n    wheelDraw();\n  };\n  const initCanvas = () => {\n    var _canvas;\n    let canvas = document.getElementById(canvasId.current);\n    if (navigator.userAgent.indexOf(\"MSIE\") !== -1) {\n      var _document$getElementB;\n      canvas = document.createElement(\"canvas\");\n      canvas.setAttribute(\"width\", `${dimension}`);\n      canvas.setAttribute(\"height\", `${dimension}`);\n      canvas.setAttribute(\"id\", canvasId.current);\n      (_document$getElementB = document.getElementById(wheelId.current)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.appendChild(canvas);\n    }\n    (_canvas = canvas) === null || _canvas === void 0 ? void 0 : _canvas.addEventListener(\"click\", spin, false);\n    canvasContext = canvas.getContext(\"2d\");\n  };\n  const spin = () => {\n    isStarted = true;\n    if (timerHandle === 0) {\n      spinStart = new Date().getTime();\n      maxSpeed = Math.PI / segments.length;\n      frames = 0;\n      timerHandle = setInterval(onTimerTick, timerDelay);\n    }\n  };\n  const onTimerTick = () => {\n    frames++;\n    draw();\n    const duration = new Date().getTime() - spinStart;\n    let progress = 0;\n    let finished = false;\n    if (duration < upTime) {\n      progress = duration / upTime;\n      angleDelta = maxSpeed * Math.sin(progress * Math.PI / 2);\n    } else {\n      if (winningSegment) {\n        if (currentSegment === winningSegment && frames > segments.length) {\n          progress = duration / upTime;\n          angleDelta = maxSpeed * Math.sin(progress * Math.PI / 2 + Math.PI / 2);\n          progress = 1;\n        } else {\n          progress = duration / downTime;\n          angleDelta = maxSpeed * Math.sin(progress * Math.PI / 2 + Math.PI / 2);\n        }\n      } else {\n        progress = duration / downTime;\n        angleDelta = maxSpeed * Math.sin(progress * Math.PI / 2 + Math.PI / 2);\n      }\n      if (progress >= 1) finished = true;\n    }\n    angleCurrent += angleDelta;\n    while (angleCurrent >= Math.PI * 2) angleCurrent -= Math.PI * 2;\n    if (finished) {\n      setFinished(true);\n      onFinished(currentSegment);\n      clearInterval(timerHandle);\n      timerHandle = 0;\n      angleDelta = 0;\n    }\n  };\n  const wheelDraw = () => {\n    clear();\n    drawWheel();\n    drawNeedle();\n  };\n  const draw = () => {\n    clear();\n    drawWheel();\n    drawNeedle();\n  };\n  const drawSegment = (key, lastAngle, angle) => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    const value = segments[key];\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(centerX, centerY);\n    ctx.arc(centerX, centerY, size, lastAngle, angle, false);\n    ctx.lineTo(centerX, centerY);\n    ctx.closePath();\n    ctx.fillStyle = segColors[key];\n    ctx.fill();\n    ctx.stroke();\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    ctx.rotate((lastAngle + angle) / 2);\n    ctx.fillStyle = contrastColor;\n    ctx.font = \"bold 1em \" + fontFamily;\n    ctx.fillText(value.substr(0, 21), size / 2 + 20, 0);\n    ctx.restore();\n  };\n  const drawWheel = () => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    let lastAngle = angleCurrent;\n    const len = segments.length;\n    const PI2 = Math.PI * 2;\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = primaryColor;\n    ctx.textBaseline = \"middle\";\n    ctx.textAlign = \"center\";\n    ctx.font = \"1em \" + fontFamily;\n    for (let i = 1; i <= len; i++) {\n      const angle = PI2 * (i / len) + angleCurrent;\n      drawSegment(i - 1, lastAngle, angle);\n      lastAngle = angle;\n    }\n\n    // Draw a center circle\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, 50, 0, PI2, false);\n    ctx.closePath();\n    ctx.fillStyle = primaryColor;\n    ctx.lineWidth = 10;\n    ctx.strokeStyle = contrastColor;\n    ctx.fill();\n    ctx.font = \"bold 2em \" + fontFamily;\n    ctx.fillStyle = contrastColor;\n    ctx.textAlign = \"center\";\n    ctx.fillText(buttonText, centerX, centerY + 3);\n    ctx.stroke();\n\n    // Draw outer circle\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, size, 0, PI2, false);\n    ctx.closePath();\n    ctx.lineWidth = 10;\n    ctx.strokeStyle = primaryColor;\n    ctx.stroke();\n  };\n  const drawNeedle = () => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = contrastColor;\n    ctx.fillStyle = contrastColor;\n    ctx.beginPath();\n    ctx.moveTo(centerX + 20, centerY - 50);\n    ctx.lineTo(centerX - 20, centerY - 50);\n    ctx.lineTo(centerX, centerY - 70);\n    ctx.closePath();\n    ctx.fill();\n    const change = angleCurrent + Math.PI / 2;\n    let i = segments.length - Math.floor(change / (Math.PI * 2) * segments.length) - 1;\n    if (i < 0) i = i + segments.length;\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"middle\";\n    ctx.fillStyle = primaryColor;\n    ctx.font = \"bold 1.5em \" + fontFamily;\n    currentSegment = segments[i];\n  };\n  const clear = () => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    ctx.clearRect(0, 0, dimension, dimension);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: wheelId.current,\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: canvasId.current,\n      width: 360,\n      height: 400,\n      style: {\n        pointerEvents: isFinished && isOnlyOnce ? \"none\" : \"auto\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_s(WheelComponent, \"R43FBdw/DOTsz5Oe2umAcDTPoI0=\");\n_c = WheelComponent;\nexport default WheelComponent;\nvar _c;\n$RefreshReg$(_c, \"WheelComponent\");","map":{"version":3,"names":["useEffect","useState","useRef","jsxDEV","_jsxDEV","WheelComponent","segments","segColors","winningSegment","onFinished","primaryColor","contrastColor","buttonText","isOnlyOnce","size","window","innerWidth","upDuration","downDuration","fontFamily","_s","randomString","chars","split","length","str","i","Math","floor","random","canvasId","wheelId","dimension","currentSegment","isStarted","isFinished","setFinished","timerHandle","timerDelay","angleCurrent","angleDelta","canvasContext","maxSpeed","PI","upTime","downTime","spinStart","frames","centerX","centerY","wheelInit","setTimeout","scrollTo","initCanvas","wheelDraw","_canvas","canvas","document","getElementById","current","navigator","userAgent","indexOf","_document$getElementB","createElement","setAttribute","appendChild","addEventListener","spin","getContext","Date","getTime","setInterval","onTimerTick","draw","duration","progress","finished","sin","clearInterval","clear","drawWheel","drawNeedle","drawSegment","key","lastAngle","angle","ctx","value","save","beginPath","moveTo","arc","lineTo","closePath","fillStyle","fill","stroke","translate","rotate","font","fillText","substr","restore","len","PI2","lineWidth","strokeStyle","textBaseline","textAlign","change","clearRect","id","children","width","height","style","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/gaspa/OneDrive/Documents/MMI 2/S4/React/SpinningWheel/spin-wheel/src/components/WheelConstructor.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\n\nconst WheelComponent = ({\n  segments,\n  segColors,\n  winningSegment,\n  onFinished,\n  primaryColor = \"black\",\n  contrastColor = \"white\",\n  buttonText = \"Spin\",\n  isOnlyOnce = true,\n  size = window.innerWidth,\n  upDuration = 100,\n  downDuration = 1000,\n  fontFamily = \"proxima-nova\",\n}) => {\n  const randomString = () => {\n    const chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\".split(\n      \"\"\n    );\n    const length = 8;\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n      str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n  };\n  const canvasId = useRef(`canvas-${randomString()}`);\n  const wheelId = useRef(`wheel-${randomString()}`);\n  const dimension = (size + 20) * 2;\n  let currentSegment = \"\";\n  let isStarted = false;\n  const [isFinished, setFinished] = useState(false);\n  let timerHandle = 0;\n  const timerDelay = segments.length;\n  let angleCurrent = 0;\n  let angleDelta = 0;\n  let canvasContext = null;\n  let maxSpeed = Math.PI / segments.length;\n  const upTime = segments.length * upDuration;\n  const downTime = segments.length * downDuration;\n  let spinStart = 0;\n  let frames = 0;\n  const centerX = size + 20;\n  const centerY = size + 20;\n  useEffect(() => {\n    wheelInit();\n    setTimeout(() => {\n      window.scrollTo(0, 1);\n    }, 0);\n  }, []);\n  const wheelInit = () => {\n    initCanvas();\n    wheelDraw();\n  };\n\n  const initCanvas = () => {\n    let canvas = document.getElementById(canvasId.current);\n    if (navigator.userAgent.indexOf(\"MSIE\") !== -1) {\n      canvas = document.createElement(\"canvas\");\n      canvas.setAttribute(\"width\", `${dimension}`);\n      canvas.setAttribute(\"height\", `${dimension}`);\n      canvas.setAttribute(\"id\", canvasId.current);\n      document.getElementById(wheelId.current)?.appendChild(canvas);\n    }\n    canvas?.addEventListener(\"click\", spin, false);\n    canvasContext = canvas.getContext(\"2d\");\n  };\n  const spin = () => {\n    isStarted = true;\n    if (timerHandle === 0) {\n      spinStart = new Date().getTime();\n      maxSpeed = Math.PI / segments.length;\n      frames = 0;\n      timerHandle = setInterval(onTimerTick, timerDelay);\n    }\n  };\n  const onTimerTick = () => {\n    frames++;\n    draw();\n    const duration = new Date().getTime() - spinStart;\n    let progress = 0;\n    let finished = false;\n    if (duration < upTime) {\n      progress = duration / upTime;\n      angleDelta = maxSpeed * Math.sin((progress * Math.PI) / 2);\n    } else {\n      if (winningSegment) {\n        if (currentSegment === winningSegment && frames > segments.length) {\n          progress = duration / upTime;\n          angleDelta =\n            maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2);\n          progress = 1;\n        } else {\n          progress = duration / downTime;\n          angleDelta =\n            maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2);\n        }\n      } else {\n        progress = duration / downTime;\n        angleDelta =\n          maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2);\n      }\n      if (progress >= 1) finished = true;\n    }\n\n    angleCurrent += angleDelta;\n    while (angleCurrent >= Math.PI * 2) angleCurrent -= Math.PI * 2;\n    if (finished) {\n      setFinished(true);\n      onFinished(currentSegment);\n      clearInterval(timerHandle);\n      timerHandle = 0;\n      angleDelta = 0;\n    }\n  };\n\n  const wheelDraw = () => {\n    clear();\n    drawWheel();\n    drawNeedle();\n  };\n\n  const draw = () => {\n    clear();\n    drawWheel();\n    drawNeedle();\n  };\n\n  const drawSegment = (key, lastAngle, angle) => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    const value = segments[key];\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(centerX, centerY);\n    ctx.arc(centerX, centerY, size, lastAngle, angle, false);\n    ctx.lineTo(centerX, centerY);\n    ctx.closePath();\n    ctx.fillStyle = segColors[key];\n    ctx.fill();\n    ctx.stroke();\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    ctx.rotate((lastAngle + angle) / 2);\n    ctx.fillStyle = contrastColor;\n    ctx.font = \"bold 1em \" + fontFamily;\n    ctx.fillText(value.substr(0, 21), size / 2 + 20, 0);\n    ctx.restore();\n  };\n\n  const drawWheel = () => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    let lastAngle = angleCurrent;\n    const len = segments.length;\n    const PI2 = Math.PI * 2;\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = primaryColor;\n    ctx.textBaseline = \"middle\";\n    ctx.textAlign = \"center\";\n    ctx.font = \"1em \" + fontFamily;\n    for (let i = 1; i <= len; i++) {\n      const angle = PI2 * (i / len) + angleCurrent;\n      drawSegment(i - 1, lastAngle, angle);\n      lastAngle = angle;\n    }\n\n    // Draw a center circle\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, 50, 0, PI2, false);\n    ctx.closePath();\n    ctx.fillStyle = primaryColor;\n    ctx.lineWidth = 10;\n    ctx.strokeStyle = contrastColor;\n    ctx.fill();\n    ctx.font = \"bold 2em \" + fontFamily;\n    ctx.fillStyle = contrastColor;\n    ctx.textAlign = \"center\";\n    ctx.fillText(buttonText, centerX, centerY + 3);\n    ctx.stroke();\n\n    // Draw outer circle\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, size, 0, PI2, false);\n    ctx.closePath();\n\n    ctx.lineWidth = 10;\n    ctx.strokeStyle = primaryColor;\n    ctx.stroke();\n  };\n\n  const drawNeedle = () => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = contrastColor;\n    ctx.fillStyle = contrastColor;\n    ctx.beginPath();\n    ctx.moveTo(centerX + 20, centerY - 50);\n    ctx.lineTo(centerX - 20, centerY - 50);\n    ctx.lineTo(centerX, centerY - 70);\n    ctx.closePath();\n    ctx.fill();\n    const change = angleCurrent + Math.PI / 2;\n    let i =\n      segments.length -\n      Math.floor((change / (Math.PI * 2)) * segments.length) -\n      1;\n    if (i < 0) i = i + segments.length;\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"middle\";\n    ctx.fillStyle = primaryColor;\n    ctx.font = \"bold 1.5em \" + fontFamily;\n    currentSegment = segments[i];\n    \n  };\n  const clear = () => {\n    if (!canvasContext) {\n      return false;\n    }\n    const ctx = canvasContext;\n    ctx.clearRect(0, 0, dimension, dimension);\n  };\n  return (\n    <div id={wheelId.current}>\n      <canvas\n        id={canvasId.current}\n        width={360}\n        height={400}\n        style={{\n          pointerEvents: isFinished && isOnlyOnce ? \"none\" : \"auto\",\n        }}\n      />\n    </div>\n  );\n};\nexport default WheelComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}